<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Hotels</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link
	href="http://cdn.jsdelivr.net/webjars/bootstrap/3.3.1/css/bootstrap.min.css"
	rel="stylesheet" media="screen" />
</head>
<body>
	<div th:include="fragments/header"></div>
	<div class="container">
		<div class="page-header">
			<h1>
				<span th:text="${user.name}"></span> <small><span
					th:text="${user.username}"></span></small>
			</h1>
			<h4>
				<span class="text-lowercase" th:text="${user.authority.role}"></span>
			</h4>
		</div>

		<div class="row">
			<div class="col-md-6">
				<h4>Details</h4>
				<p>
					<label>E-mail: </label> <span th:text="${user.email}"></span>
				</p>
				<p>...</p>
			</div>

			<div class="col-md-6">

				<h4>Written reviews</h4>
				<div th:if="${!#sets.isEmpty(user.comments)}">
					<div th:each="comment : ${user.comments}">
						<p>
							<i class="glyphicon glyphicon-time"></i> <span
								th:text="${#dates.monthNameShort(comment.date)}"></span> <span
								th:text="${#dates.year(comment.date)}"></span> - <b><a
								th:text="${comment.hotel.name}" th:href="@{|/hotels/${comment.hotel.id}|}"></a></b>
						</p>
						<p th:text="${comment.text}"></p>
					</div>
				</div>
				<p th:if="${#sets.isEmpty(user.comments)}">
					<i>No reviews written</i>
				</p>

				<hr>

				<h4>Registered hotels</h4>
				<div th:if="${!#sets.isEmpty(user.hotels)}">
					<div th:each="hotel : ${user.hotels}">
						<a th:text="${hotel.name}" th:href="@{|/hotels/${hotel.id}|}"></a>
						<a class="pull-right" th:href="@{|/hotels/${hotel.id}/remove|}"><i class="glyphicon glyphicon-trash"></i></a>
					</div>
				</div>
				<p th:if="${#sets.isEmpty(user.hotels)}">
					<i>No registered hotels</i>
				</p>

			</div>
		</div>
		<hr>
		<div>
			<h4>Approved bookings</h4>

			<div th:if="${!#lists.isEmpty(bookings)}">
				<table class="table">
					<thead>
						<tr>
							<th>Check-in</th>
							<th>Check-out</th>
							<th>Hotel</th>
							<th>Room Type</th>
							<th>Room Number</th>

						</tr>
					</thead>
					<tr th:if="${booking.state}" th:each="booking : ${bookings}">
						<td><span th:text="${#dates.day(booking.begin_date)}"></span>
							<span th:text="${#dates.monthName(booking.begin_date)}"></span>
							<span th:text="${#dates.year(booking.begin_date)}"></span></td>
						<td><span th:text="${#dates.day(booking.end_date)}"></span> <span
							th:text="${#dates.monthName(booking.end_date)}"></span> <span
							th:text="${#dates.year(booking.end_date)}"></span></td>
						<td><a th:text="${booking.room.hotel.name}" th:href="@{|/hotels/${booking.room.hotel.id}|}"></a></td>
						<td><span th:text="${booking.room.type}"></span></td>
						<td><span th:text="${booking.room.room_number}"></span></td>
					</tr>
				</table>
			</div>
			<p th:if="${#lists.isEmpty(bookings)}">
				<i>No bookings</i>
			</p>
		</div>
	</div>
</body>
</html>
